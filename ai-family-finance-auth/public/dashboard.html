<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Family Finance Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: url('https://i.ibb.co/6HPCkK5/pencil-sketch-bg.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #222;
    }

    header {
      background: rgba(37, 99, 235, 0.9);
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
    }

    .menu {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin: 2rem;
      flex-wrap: wrap;
    }

    .menu button {
      background: white;
      border: 2px solid #2563eb;
      border-radius: 15px;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    }
    .menu button:hover {
      background: #2563eb;
      color: white;
      transform: scale(1.05);
    }

    .section {
      display: none;
      margin: 2rem auto;
      max-width: 1100px;
      background: rgba(255,255,255,0.95);
      padding: 2rem;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    .active {
      display: block;
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2, h3 { color: #2563eb; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th { background: #f3f4f6; }

    .totals { margin-top: 1rem; font-weight: bold; }

    .progress {
      background: #eee;
      border-radius: 10px;
      overflow: hidden;
      margin: 8px 0;
    }
    .progress div {
      background: #2563eb;
      height: 20px;
      text-align: center;
      color: white;
      font-size: 0.8rem;
    }

    canvas { margin-top: 2rem; }
  </style>
</head>
<body>
  <header>üåä Family Finance Dashboard</header>

  <div class="menu">
    <button onclick="showSection('investments')">üí∞ Total Investments</button>
    <button onclick="showSection('calculator')">üßÆ Calculator</button>
    <button onclick="showSection('features')">‚ú® More Features</button>
  </div>

  <!-- Investments -->
  <div id="investments" class="section active">
    <h2>üí∞ Total Investments</h2>
    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
      <div style="flex:1; min-width:300px;">
        <h3>üë§ Your Investments</h3>
        <form id="myInvestmentForm">
          <input type="text" id="myType" placeholder="Type (e.g. Mutual Fund)" required>
          <input type="number" id="myAmount" placeholder="Amount (‚Çπ)" required>
          <button type="submit">Add</button>
        </form>
        <table id="myTable"><thead><tr><th>Type</th><th>Amount (‚Çπ)</th></tr></thead><tbody></tbody></table>
        <p class="totals">Total: ‚Çπ<span id="myTotal">0</span></p>
      </div>

      <div style="flex:1; min-width:300px;">
        <h3>üë©‚Äçüíº Spouse‚Äôs Investments</h3>
        <form id="spouseInvestmentForm">
          <input type="text" id="spouseType" placeholder="Type (e.g. Gold)" required>
          <input type="number" id="spouseAmount" placeholder="Amount (‚Çπ)" required>
          <button type="submit">Add</button>
        </form>
        <table id="spouseTable"><thead><tr><th>Type</th><th>Amount (‚Çπ)</th></tr></thead><tbody></tbody></table>
        <p class="totals">Total: ‚Çπ<span id="spouseTotal">0</span></p>
      </div>
    </div>

    <h3>üìä Combined Investments</h3>
    <p>Total Family Investment: ‚Çπ<span id="combinedTotal">0</span></p>
    <canvas id="investmentChart"></canvas>
  </div>

  <!-- Calculator -->
  <div id="calculator" class="section">
    <h2>üßÆ Investment Calculator</h2>

    <label for="calcType">Choose Calculator:</label>
    <select id="calcType">
      <option value="sip">SIP Calculator</option>
      <option value="lumpsum">Lumpsum Calculator</option>
    </select>

    <div id="sipInputs">
      <p>Monthly Investment (‚Çπ): <input type="number" id="sipP"></p>
      <p>Annual Rate of Return (%): <input type="number" id="sipR"></p>
      <p>Time (years): <input type="number" id="sipT"></p>
    </div>

    <div id="lumpsumInputs" style="display:none;">
      <p>Initial Investment (‚Çπ): <input type="number" id="lsP"></p>
      <p>Annual Rate of Return (%): <input type="number" id="lsR"></p>
      <p>Time (years): <input type="number" id="lsT"></p>
    </div>

    <button onclick="calculate()">Calculate</button>
    <p id="calcResult"></p>
  </div>

  <!-- More Features -->
  <div id="features" class="section">
    <h2>‚ú® More Features</h2>

    <!-- Goal Tracker -->
    <h3>üìÖ Goal Tracker</h3>
    <form id="goalForm">
      <input type="text" id="goalName" placeholder="Goal (e.g. House)" required>
      <input type="number" id="goalTarget" placeholder="Target Amount (‚Çπ)" required>
      <input type="number" id="goalSaved" placeholder="Already Saved (‚Çπ)" required>
      <button type="submit">Add Goal</button>
    </form>
    <div id="goals"></div>

    <!-- Expense Tracker -->
    <h3>üí≥ Expense Tracker</h3>
    <form id="expenseForm">
      <input type="text" id="expenseCat" placeholder="Category (e.g. Food)" required>
      <input type="number" id="expenseAmt" placeholder="Amount (‚Çπ)" required>
      <button type="submit">Add Expense</button>
    </form>
    <table id="expenseTable"><thead><tr><th>Category</th><th>Amount (‚Çπ)</th></tr></thead><tbody></tbody></table>
    <p class="totals">Total Expenses: ‚Çπ<span id="expenseTotal">0</span></p>
    <canvas id="expenseChart"></canvas>

    <!-- Reports -->
    <h3>üìà Reports & Trends</h3>
    <canvas id="trendChart"></canvas>

    <!-- Reminders -->
    <h3>üîî Reminders</h3>
    <form id="reminderForm">
      <input type="text" id="reminderText" placeholder="Reminder (e.g. FD Maturity)" required>
      <input type="date" id="reminderDate" required>
      <button type="submit">Add Reminder</button>
    </form>
    <ul id="reminderList"></ul>
  </div>

  <script>
    function showSection(id) {
      document.querySelectorAll(".section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // --- Investments ---
    let myInvestments=[], spouseInvestments=[];
loadData();


const ctx=document.getElementById("investmentChart").getContext("2d");
let chart=new Chart(ctx,{type:'pie',data:{labels:[],datasets:[{data:[],backgroundColor:["#2563eb","#f59e0b","#10b981","#ef4444","#8b5cf6","#f472b6"]}]}});


function updateUI(){
let myT=myInvestments.reduce((a,b)=>a+b.amount,0);
let spT=spouseInvestments.reduce((a,b)=>a+b.amount,0);
document.getElementById("myTotal").textContent=myT;
document.getElementById("spouseTotal").textContent=spT;
document.getElementById("combinedTotal").textContent=myT+spT;


document.querySelector("#myTable tbody").innerHTML=myInvestments.map((i,idx)=>`<tr><td>${i.type}</td><td>‚Çπ${i.amount}</td><td><button class='edit-btn action-btn' onclick='editInvestment("my",${idx})'>Edit</button><button class='delete-btn action-btn' onclick='deleteInvestment("my",${idx})'>Del</button></td></tr>`).join("");


document.querySelector("#spouseTable tbody").innerHTML=spouseInvestments.map((i,idx)=>`<tr><td>${i.type}</td><td>‚Çπ${i.amount}</td><td><button class='edit-btn action-btn' onclick='editInvestment("spouse",${idx})'>Edit</button><button class='delete-btn action-btn' onclick='deleteInvestment("spouse",${idx})'>Del</button></td></tr>`).join("");


chart.data.labels=[...myInvestments.map(i=>"You: "+i.type),...spouseInvestments.map(i=>"Spouse: "+i.type)];
chart.data.datasets[0].data=[...myInvestments.map(i=>i.amount),...spouseInvestments.map(i=>i.amount)];
chart.update();


saveData();
}


document.getElementById("myInvestmentForm").onsubmit=e=>{
e.preventDefault();
myInvestments.push({type:myType.value,amount:+myAmount.value});
e.target.reset();updateUI();
};
document.getElementById("spouseInvestmentForm").onsubmit=e=>{
e.preventDefault();
spouseInvestments.push({type:spouseType.value,amount:+spouseAmount.value});
e.target.reset();updateUI();
};


function deleteInvestment(who,idx){
if(who=="my"){myInvestments.splice(idx,1);}else{spouseInvestments.splice(idx,1);}
updateUI();
}


function editInvestment(who,idx){
let inv=(who=="my"?myInvestments:spouseInvestments)[idx];
let newType=prompt("Edit Type",inv.type);
let newAmt=prompt("Edit Amount",inv.amount);
if(newType && newAmt){inv.type=newType;inv.amount=+newAmt;}
updateUI();
}

    // --- Calculator ---
    document.getElementById("calcType").addEventListener("change", () => {
      if (calcType.value === "sip") {
        sipInputs.style.display = "block";
        lumpsumInputs.style.display = "none";
      } else {
        sipInputs.style.display = "none";
        lumpsumInputs.style.display = "block";
      }
    });

    function calculate() {
      let type = calcType.value;
      if (type === "sip") {
        let P = +sipP.value;
        let r = +sipR.value / 100;
        let t = +sipT.value;
        let n = 12;

        if (!P || !r || !t) {
          calcResult.innerText = "‚ö†Ô∏è Enter valid SIP values.";
          return;
        }

        let fv = P * ((Math.pow(1 + r/n, n*t) - 1) / (r/n)) * (1 + r/n);
        calcResult.innerText = `Future Value (SIP): ‚Çπ${fv.toFixed(2)}`;
      } else if (type === "lumpsum") {
        let P = +lsP.value;
        let r = +lsR.value / 100;
        let t = +lsT.value;
        let n = 1;

        if (!P || !r || !t) {
          calcResult.innerText = "‚ö†Ô∏è Enter valid Lumpsum values.";
          return;
        }

        let fv = P * Math.pow(1 + r/n, n*t);
        calcResult.innerText = `Future Value (Lumpsum): ‚Çπ${fv.toFixed(2)}`;
      }
    }

    // --- Goal Tracker ---
    document.getElementById("goalForm").onsubmit=e=>{
      e.preventDefault();
      let name=goalName.value, target=+goalTarget.value, saved=+goalSaved.value;
      let percent=Math.min((saved/target)*100,100);
      goals.innerHTML+=`<p><b>${name}</b>: ‚Çπ${saved}/‚Çπ${target}
        <div class="progress"><div style="width:${percent}%">${percent.toFixed(0)}%</div></div></p>`;
      e.target.reset();
    };

    // --- Expense Tracker ---
    let expenses=[];const expChartCtx=document.getElementById("expenseChart").getContext("2d");
    let expenseChart=new Chart(expChartCtx,{type:'bar',data:{labels:[],datasets:[{label:"Expenses",data:[],backgroundColor:"#ef4444"}]}});

    function updateExpenses(){
      document.querySelector("#expenseTable tbody").innerHTML=expenses.map(i=>`<tr><td>${i.cat}</td><td>‚Çπ${i.amount}</td></tr>`).join("");
      document.getElementById("expenseTotal").textContent=expenses.reduce((a,b)=>a+b.amount,0);
      expenseChart.data.labels=expenses.map(i=>i.cat);
      expenseChart.data.datasets[0].data=expenses.map(i=>i.amount);
      expenseChart.update();
    }
    document.getElementById("expenseForm").onsubmit=e=>{
      e.preventDefault();
      expenses.push({cat:expenseCat.value,amount:+expenseAmt.value});
      e.target.reset();updateExpenses();
    };

    // --- Reports ---
    const trendCtx=document.getElementById("trendChart").getContext("2d");
    new Chart(trendCtx,{type:'line',data:{labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Investment Growth",data:[5000,8000,12000,15000,20000],borderColor:"#2563eb"}]}});

    // --- Reminders ---
    document.getElementById("reminderForm").onsubmit=e=>{
      e.preventDefault();
      reminderList.innerHTML+=`<li>üìÖ ${reminderText.value} on ${reminderDate.value}</li>`;
      e.target.reset();
    };

    updateUI();
  </script>
</body>
</html>
